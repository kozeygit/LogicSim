#:kivy 1.0
#:import Factory kivy.factory.Factory
<ActionButton>
    font_size:15
    color: 1,1,1,1
    background_normal: ''
    background_color: 0.4,0.4,0.4,1

<GateButton>
    Button:
        text: "gate"
        font_size: 30
        size_hint: None, None
        center: self.parent.center

<GateLabel@Label>
    font_size: 30
    color: 0,0,0,1

<ExitPopup@Popup>:
    auto_dismiss: False
    title_color: 0,0,0,1
    title_size: 20
    title: "Are you sure you want to quit?"
    size_hint: None, None
    size: 300,300
    BoxLayout:
        size: self.parent.size
        orientaion: "vertical"
        Button:
            text: 'Cancel'
            on_release: root.dismiss()
        Button:
            text: 'Quit'
            on_release: root.closeWindow()

<GridLayout>
    padding: 2
    spacing: 2
    canvas.before:
        Color:
            rgba: (0.8,0.8,0.8,1)
        Rectangle:
            pos: self.pos
            size: self.size

<MainWindow>
    GridLayout:
        size: root.width, root.height
        rows:2
        orientaion: "tb-lr"
        ActionBar:
            size: root.width, 30
            pos_hint: {"top":1}

            ActionView:
                spacing: 2
                padding: 2
                ActionPrevious:
                    with_previous: False
                    font_size: 40
                    markup: True
                    title: " [b]Logic Gate Simultor[/b]"
                    app_icon: ''
                ActionButton:
                    text: "Save"
                    on_press: Board.add_widget(Button(text='new button'))
                ActionButton:
                    text: "Load"
                ActionButton:
                    text: "Help"
                ActionButton:
                    text: "Quit"
                    on_release: Factory.ExitPopup().open()
                
        
        GridLayout:
            size: self.parent.width, self.parent.height
            cols: 2
            padding: 0
            ScrollView:
                size_hint: None, 1
                width: 200
                GridLayout:
                    size_hint_y: None
                    height: 900
                    cols: 1
                    rows: 2
                    Label:
                        size_hint: 1,0.1
                        markup: True
                        font_size: 40
                        color: 0,0,0,1
                        text: "[b]Gates[/b]"
                    GridLayout:
                        cols: 2
                        spaceing: 1
                        padding: 1
                        size: self.parent.size
                        GateLabel:
                            text: "And"
                        GateButton:
                            id: And
                        GateLabel:
                            text: "Or"
                        GateButton:
                            id: Or
                        GateLabel:
                            text: "Not"
                        GateButton:
                            id: Not
                        GateLabel:
                            text: "Xor"
                        GateButton:
                            id: Xor
                        GateLabel:
                            text: "Input"
                        GateButton:
                            id: Input
                        GateLabel:
                            text: "Output"
                        GateButton:
                            id: Output
                        GateLabel:
                            text: "Clock"
                        GateButton:
                            id: Clock
            FloatLayout:
                id: Board
                canvas.before:
                    Color:
                        rgba: (0.4,0.8,0.1,1)
                    Rectangle:
                        pos: self.pos
                        size: self.size

            

<MyLayout>
    FloatLayout:
        canvas.before: 
        size: root.width, root.height
        Button:
            pos_hint: {"x":0.5 ,"top":0.5}
            text: "Tech With"

        Button:
            # a button has three states
            # Normal: Not clicked, Down: Clicked, Hover: Hovered over
            id: btn
            text: "Tim" if btn.state == "normal" else "Down"
            background_color: [0.3,0.4,0.5,1] if btn.state == "normal" else [0,0,1,1]

<MyGridLayout>
    
    name: name
    pizza: pizza
    colour: colour
    
    GridLayout:
        cols:1
        size: root.width, root.height
        GridLayout:
            cols:2

            Label:
                text: "Name"
            TextInput:
                multiline: False
                id: name

            Label:
                text: "Pizza"
            TextInput:
                multiline: False
                id: pizza

            Label:
                text: "Colour"
            TextInput:
                multiline: False
                id: colour

        Button:
            text: "Submit"
            on_press: root.press()

